<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Capita Technology helps leadership teams unlock measurable retention and lifetime value by designing AI-powered decision systems, operating models, and customer experience measurement."
    />
    <title>Capita Technology</title>

    <script>
      // Avoid Chrome ‚ÄúNot secure‚Äù form warnings: force HTTPS (except local dev).
      (function () {
        const isLocal =
          location.hostname === "localhost" ||
          location.hostname === "127.0.0.1" ||
          location.hostname.endsWith(".local");
        if (!isLocal && location.protocol !== "https:") {
          location.replace("https://" + location.host + location.pathname + location.search + location.hash);
        }
      })();
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header class="site-header" id="top">
      <div class="container header-inner">
        <a class="brand" href="#top" aria-label="Capita Technology">
          <span class="brand-mark" aria-hidden="true"></span>
          <span class="brand-text">Capita Technology</span>
        </a>

        <nav class="nav" aria-label="Primary">
          <a href="#outcomes">Outcomes</a>
          <a href="#faq">FAQ</a>
          <a href="#contact">Contact</a>
          <a class="nav-cta" href="#contact">Request intro</a>
        </nav>
      </div>
    </header>

    <main id="main">
      <!-- 1) Hero: title, subtext, 2 CTAs, 3 trust pills, logos -->
      <section class="hero" aria-label="Hero">
        <div class="container">
          <p class="eyebrow">AI ‚Ä¢ Data ‚Ä¢ Customer Growth</p>
          <h1>Your trusted partner in AI-powered product innovation.</h1>
          <p class="lede">
            We combine deep technical expertise with pragmatic delivery to build scalable, secure decision systems and
            customer measurement that moves retention and lifetime value.
          </p>

          <div class="actions">
            <a class="btn btn-primary" href="#contact">Schedule a discovery meeting</a>
            <a class="btn btn-secondary" href="#outcomes">Discover how we work</a>
          </div>

          <div class="actions" aria-label="Trust signals">
            <a class="btn btn-secondary" href="#outcomes">Your vision, our expertise</a>
            <a class="btn btn-secondary" href="#contact">Confidential &amp; secure ‚Äî NDA friendly</a>
            <a class="btn btn-secondary" href="#experience">Senior operators at work</a>
          </div>

          <p class="micro">Trusted by teams across telco, banking, and SaaS.</p>

          <div class="logo-grid" id="experience" aria-label="Experience logos">
            <div class="logo-tile" aria-label="Logo placeholder">Logo</div>
            <div class="logo-tile" aria-label="Logo placeholder">Logo</div>
            <div class="logo-tile" aria-label="Logo placeholder">Logo</div>
            <div class="logo-tile" aria-label="Logo placeholder">Logo</div>
            <div class="logo-tile" aria-label="Logo placeholder">Logo</div>
            <div class="logo-tile" aria-label="Logo placeholder">Logo</div>
            <div class="logo-tile" aria-label="Logo placeholder">Logo</div>
            <div class="logo-tile" aria-label="Logo placeholder">Logo</div>
          </div>
        </div>
      </section>

      <section class="section" id="outcomes" aria-label="Outcomes">
        <div class="container">
          <div class="section-head">
            <p class="section-label">Outcomes</p>
            <h2>Clarity, shipped.</h2>
            <p class="section-lede">Tight scope. Fast cycles. Clean measurement.</p>
          </div>

          <div class="grid-3">
            <article class="card">
              <h3>Retention lift</h3>
              <p>Identify and remove churn drivers. Build intervention systems with measurable impact.</p>
            </article>
            <article class="card">
              <h3>Revenue protection</h3>
              <p>Stop leakage across journeys‚Äîpricing, eligibility, friction, and service failures.</p>
            </article>
            <article class="card">
              <h3>AI that performs</h3>
              <p>Instrumentation, evals, and operational processes that keep models improving in production.</p>
            </article>
          </div>
        </div>
      </section>

      <!-- 2) FAQ: single-open accordion -->
      <section class="section" id="faq" aria-label="Frequently asked questions">
        <div class="container">
          <div class="section-head">
            <p class="section-label">FAQ</p>
            <h2>Frequently asked questions</h2>
            <p class="section-lede">Common questions answered.</p>
          </div>

          <div class="grid-2">
            <div>
              <article class="card">
                <button class="faq-q" type="button" aria-expanded="false" aria-controls="faq-a1" id="faq-q1">
                  What do I get in the first 2 weeks?
                </button>
                <div class="faq-a" id="faq-a1" role="region" aria-labelledby="faq-q1" hidden>
                  <p>
                    A tight problem definition, current-state map, measurable success criteria, and a scoped 90-day plan
                    that your teams can execute.
                  </p>
                </div>
              </article>

              <article class="card">
                <button class="faq-q" type="button" aria-expanded="false" aria-controls="faq-a2" id="faq-q2">
                  How do you work with internal teams?
                </button>
                <div class="faq-a" id="faq-a2" role="region" aria-labelledby="faq-q2" hidden>
                  <p>
                    Embedded delivery support: weekly cadence, clear decision rights, and artifacts your teams keep after
                    we leave.
                  </p>
                </div>
              </article>

              <article class="card">
                <button class="faq-q" type="button" aria-expanded="false" aria-controls="faq-a3" id="faq-q3">
                  Can you sign an NDA before we talk?
                </button>
                <div class="faq-a" id="faq-a3" role="region" aria-labelledby="faq-q3" hidden>
                  <p>Yes. We‚Äôre comfortable operating inside regulated environments and with strict confidentiality.</p>
                </div>
              </article>

              <article class="card">
                <button class="faq-q" type="button" aria-expanded="false" aria-controls="faq-a4" id="faq-q4">
                  What does a typical engagement look like?
                </button>
                <div class="faq-a" id="faq-a4" role="region" aria-labelledby="faq-q4" hidden>
                  <p>
                    Usually 1‚Äì2 days per week over 6‚Äì12 weeks: discovery ‚Üí design ‚Üí build/enable ‚Üí measurement and
                    iteration.
                  </p>
                </div>
              </article>

              <article class="card">
                <button class="faq-q" type="button" aria-expanded="false" aria-controls="faq-a5" id="faq-q5">
                  How do you measure impact?
                </button>
                <div class="faq-a" id="faq-a5" role="region" aria-labelledby="faq-q5" hidden>
                  <p>
                    We define leading indicators and business outcomes up front, instrument journeys, and set a review
                    cadence that keeps teams accountable.
                  </p>
                </div>
              </article>
            </div>

            <aside class="tile" aria-label="What we offer">
              <h3>What we offer</h3>
              <p>To earn your trust, and keep it.</p>
              <ul>
                <li><strong>Risk-managed start</strong> ‚Äî small scope before scaling.</li>
                <li><strong>Transparent cadence</strong> ‚Äî weekly demos and clear artifacts.</li>
                <li><strong>NDA-first</strong> ‚Äî confidentiality and security by default.</li>
                <li><strong>Delivery commitment</strong> ‚Äî focus on shipped outcomes.</li>
                <li><strong>Exec-ready measurement</strong> ‚Äî metrics leaders can trust.</li>
              </ul>
            </aside>
          </div>
        </div>
      </section>

      <!-- 3) Lead gen form + trust enhancements -->
      <section class="section contact" id="contact" aria-label="Contact">
        <div class="container">
          <div class="contact-card">
            <div>
              <p class="section-label">Start the conversation</p>
              <h2>Tell us what you‚Äôre building.</h2>
              <p class="section-lede">
                This form opens your email client with a pre-filled message to <strong>consulting@capitatech.com.au</strong>.
              </p>

              <form id="leadForm" class="form-grid" novalidate>
                <div class="form-row form-row-2">
                  <div class="field">
                    <label class="micro" for="name">Name (required)</label>
                    <input
                      class="input"
                      id="name"
                      name="name"
                      autocomplete="name"
                      required
                      inputmode="text"
                      maxlength="60"
                      placeholder="Jane Smith"
                    />
                    <div class="help">Letters, spaces, apostrophes, and hyphens only.</div>
                  </div>

                  <div class="field">
                    <label class="micro" for="email">Email (required)</label>
                    <input
                      class="input"
                      id="email"
                      name="email"
                      type="email"
                      autocomplete="email"
                      required
                      maxlength="254"
                      placeholder="jane@company.com"
                    />
                    <div class="help">We‚Äôll reply by email.</div>
                  </div>
                </div>

                <div class="form-row form-row-3">
                  <div class="field" style="grid-column: span 1">
                    <label class="micro" for="ccSearch">Country code</label>
                    <input
                      class="input"
                      id="ccSearch"
                      name="ccSearch"
                      role="combobox"
                      aria-expanded="false"
                      aria-controls="ccList"
                      aria-autocomplete="list"
                      autocomplete="off"
                      inputmode="search"
                      placeholder="Type to search (e.g., Australia, AUS, +61)"
                    />
                    <div class="help">Type-ahead supported. Defaults to Australia (+61).</div>

                    <div
                      id="ccList"
                      class="card"
                      style="display: none; margin-top: 10px; padding: 10px"
                      role="listbox"
                      aria-label="Country codes"
                    >
                      <div class="micro" style="margin: 0 0 8px">Select a country code</div>
                      <div id="ccOptions" style="display: grid; gap: 6px"></div>
                    </div>

                    <input type="hidden" id="ccDial" name="ccDial" value="+61" />
                    <input type="hidden" id="ccISO3" name="ccISO3" value="AUS" />
                    <input type="hidden" id="ccISO2" name="ccISO2" value="AU" />
                  </div>

                  <div class="field" style="grid-column: span 1">
                    <label class="micro" for="phone">Phone (optional)</label>
                    <input
                      class="input"
                      id="phone"
                      name="phone"
                      autocomplete="tel-national"
                      inputmode="tel"
                      maxlength="24"
                      placeholder="412 345 678"
                    />
                    <div class="help">Digits only; spaces and dashes allowed.</div>
                  </div>

                  <div class="field" style="grid-column: span 1">
                    <label class="micro" for="summary">Subject (optional)</label>
                    <input
                      class="input"
                      id="summary"
                      name="summary"
                      maxlength="80"
                      placeholder="Short summary (optional)"
                    />
                    <div class="help">Used as the email subject line.</div>
                  </div>
                </div>

                <div class="field">
                  <label class="micro" for="message">What‚Äôs on your mind? (optional)</label>
                  <textarea
                    class="textarea"
                    id="message"
                    name="message"
                    rows="5"
                    maxlength="2000"
                    placeholder="Tell us about the outcome you want to move in the next 90 days."
                  ></textarea>
                  <div class="help">Max 2000 characters.</div>
                </div>

                <div id="formError" class="form-error" aria-live="polite"></div>

                <div class="actions">
                  <button class="btn btn-primary" type="submit">Send enquiry</button>
                  <a class="btn btn-secondary" href="mailto:consulting@capitatech.com.au">Email directly</a>
                </div>

                <div class="actions" aria-label="Trust signals" style="margin-top: 6px">
                  <span class="btn btn-secondary" role="note">Strict NDA</span>
                  <span class="btn btn-secondary" role="note">Security-first</span>
                  <span class="btn btn-secondary" role="note">No spam</span>
                </div>
              </form>
            </div>

            <div class="tile" aria-label="What we understand">
              <h3>What we‚Äôll help you fix</h3>
              <p>Common pain points we see in customer and AI programmes.</p>
              <ul>
                <li>Fragmented ownership across product, data, and channels</li>
                <li>Lots of models; little production impact</li>
                <li>Weak measurement and unclear decision rights</li>
                <li>Journey leakage nobody can quantify</li>
                <li>Roadmaps that don‚Äôt survive delivery reality</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- 4) Deep footer: keyword-rich navigation + contact details -->
    <footer class="site-footer" aria-label="Footer">
      <div class="container">
        <div class="footer-inner">
          <p>¬© <span id="y"></span> Capita Technology. Sydney, Australia.</p>
          <div class="footer-links">
            <a href="#top">Top</a>
            <a href="#outcomes">Outcomes</a>
            <a href="#faq">FAQ</a>
            <a href="#contact">Contact</a>
          </div>
        </div>

        <div class="grid-3" style="margin-top: 18px">
          <div class="tile">
            <h3>Contact</h3>
            <p class="micro">consulting@capitatech.com.au</p>
            <p class="micro">Sydney, NSW ‚Ä¢ Australia</p>
          </div>
          <div class="tile">
            <h3>Services</h3>
            <p class="micro">AI strategy ‚Ä¢ Decision systems ‚Ä¢ Customer lifecycle marketing ‚Ä¢ Measurement ‚Ä¢ Operating model</p>
            <p class="micro">Experimentation ‚Ä¢ Personalisation ‚Ä¢ Retention ‚Ä¢ Churn reduction ‚Ä¢ Next-best-action</p>
          </div>
          <div class="tile">
            <h3>Industries</h3>
            <p class="micro">Telecommunications ‚Ä¢ Banking ‚Ä¢ Insurance ‚Ä¢ Property ‚Ä¢ SaaS ‚Ä¢ Subscription businesses</p>
            <p class="micro">Regulated delivery ‚Ä¢ Governance ‚Ä¢ Security ‚Ä¢ Privacy-by-design</p>
          </div>
        </div>
      </div>

      <script>
        // -----------------------------
        // Utilities / Hardening
        // -----------------------------
        function stripControls(s) {
          // Prevent header injection and control chars in mailto content.
          return String(s || "")
            .replace(/[\u0000-\u001F\u007F]/g, " ")
            .replace(/[\r\n]+/g, " ")
            .trim();
        }

        function normalizeSpaces(s) {
          return stripControls(s).replace(/\s+/g, " ").trim();
        }

        function safeBodyText(s) {
          // Allow new lines in body but remove control chars and excessive length.
          const t = String(s || "").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g, "");
          return t.slice(0, 2000);
        }

        function isValidName(name) {
          // Unicode letters + combining marks + spaces + apostrophe/hyphen. 2..60 chars.
          const n = normalizeSpaces(name);
          if (n.length < 2 || n.length > 60) return false;
          const re = /^\p{L}[\p{L}\p{M}\s'‚Äô-]{0,58}\p{L}$/u;
          return re.test(n);
        }

        function isValidEmail(email) {
          const e = normalizeSpaces(email);
          if (e.length < 6 || e.length > 254) return false;
          if (/\s/.test(e)) return false;
          const parts = e.split("@");
          if (parts.length !== 2) return false;
          if (parts[0].length > 64 || parts[0].length < 1) return false;
          if (parts[1].length < 3) return false;
          if (!parts[1].includes(".")) return false;
          // Let browser‚Äôs built-in validation do the heavy lifting too.
          return true;
        }

        function isValidPhoneLocal(phone) {
          const raw = String(phone || "").trim();
          if (!raw) return true; // optional
          // Allow digits, spaces, parentheses, hyphens. No other characters.
          if (!/^[0-9\s()\-]+$/.test(raw)) return false;
          const digits = raw.replace(/\D/g, "");
          return digits.length >= 4 && digits.length <= 14;
        }

        function iso2ToFlag(iso2) {
          const code = String(iso2 || "").toUpperCase();
          if (!/^[A-Z]{2}$/.test(code)) return "üè≥Ô∏è";
          const A = 0x1f1e6;
          const first = A + (code.charCodeAt(0) - 65);
          const second = A + (code.charCodeAt(1) - 65);
          return String.fromCodePoint(first, second);
        }

        // -----------------------------
        // Footer year
        // -----------------------------
        document.getElementById("y").textContent = String(new Date().getFullYear());

        // -----------------------------
        // FAQ accordion: single-open
        // -----------------------------
        (function () {
          const faqButtons = Array.from(document.querySelectorAll(".faq-q"));

          function closeAll(exceptId) {
            for (const btn of faqButtons) {
              const panelId = btn.getAttribute("aria-controls");
              const panel = panelId ? document.getElementById(panelId) : null;
              const isExcept = btn.id === exceptId;

              if (!isExcept) {
                btn.setAttribute("aria-expanded", "false");
                if (panel) panel.hidden = true;
              }
            }
          }

          for (const btn of faqButtons) {
            btn.addEventListener("click", () => {
              const expanded = btn.getAttribute("aria-expanded") === "true";
              const panelId = btn.getAttribute("aria-controls");
              const panel = panelId ? document.getElementById(panelId) : null;

              if (!panel) return;

              if (expanded) {
                btn.setAttribute("aria-expanded", "false");
                panel.hidden = true;
                return;
              }

              closeAll(btn.id);
              btn.setAttribute("aria-expanded", "true");
              panel.hidden = false;
            });
          }
        })();

        // -----------------------------
        // Country code type-ahead dropdown
        // -----------------------------
        const COUNTRY_CODES = [
          { iso2: "AU", iso3: "AUS", dial: "+61", name: "Australia" },
          { iso2: "NZ", iso3: "NZL", dial: "+64", name: "New Zealand" },
          { iso2: "US", iso3: "USA", dial: "+1", name: "United States" },
          { iso2: "CA", iso3: "CAN", dial: "+1", name: "Canada" },
          { iso2: "GB", iso3: "GBR", dial: "+44", name: "United Kingdom" },
          { iso2: "IE", iso3: "IRL", dial: "+353", name: "Ireland" },
          { iso2: "DE", iso3: "DEU", dial: "+49", name: "Germany" },
          { iso2: "FR", iso3: "FRA", dial: "+33", name: "France" },
          { iso2: "ES", iso3: "ESP", dial: "+34", name: "Spain" },
          { iso2: "IT", iso3: "ITA", dial: "+39", name: "Italy" },
          { iso2: "NL", iso3: "NLD", dial: "+31", name: "Netherlands" },
          { iso2: "BE", iso3: "BEL", dial: "+32", name: "Belgium" },
          { iso2: "CH", iso3: "CHE", dial: "+41", name: "Switzerland" },
          { iso2: "AT", iso3: "AUT", dial: "+43", name: "Austria" },
          { iso2: "SE", iso3: "SWE", dial: "+46", name: "Sweden" },
          { iso2: "NO", iso3: "NOR", dial: "+47", name: "Norway" },
          { iso2: "DK", iso3: "DNK", dial: "+45", name: "Denmark" },
          { iso2: "FI", iso3: "FIN", dial: "+358", name: "Finland" },
          { iso2: "SG", iso3: "SGP", dial: "+65", name: "Singapore" },
          { iso2: "HK", iso3: "HKG", dial: "+852", name: "Hong Kong" },
          { iso2: "JP", iso3: "JPN", dial: "+81", name: "Japan" },
          { iso2: "KR", iso3: "KOR", dial: "+82", name: "South Korea" },
          { iso2: "IN", iso3: "IND", dial: "+91", name: "India" },
          { iso2: "CN", iso3: "CHN", dial: "+86", name: "China" },
          { iso2: "AE", iso3: "ARE", dial: "+971", name: "United Arab Emirates" },
          { iso2: "SA", iso3: "SAU", dial: "+966", name: "Saudi Arabia" },
          { iso2: "ZA", iso3: "ZAF", dial: "+27", name: "South Africa" },
          { iso2: "BR", iso3: "BRA", dial: "+55", name: "Brazil" },
          { iso2: "MX", iso3: "MEX", dial: "+52", name: "Mexico" },
          { iso2: "AR", iso3: "ARG", dial: "+54", name: "Argentina" },
          { iso2: "CL", iso3: "CHL", dial: "+56", name: "Chile" },
          { iso2: "CO", iso3: "COL", dial: "+57", name: "Colombia" },
          { iso2: "PE", iso3: "PER", dial: "+51", name: "Peru" },
          { iso2: "ID", iso3: "IDN", dial: "+62", name: "Indonesia" },
          { iso2: "MY", iso3: "MYS", dial: "+60", name: "Malaysia" },
          { iso2: "TH", iso3: "THA", dial: "+66", name: "Thailand" },
          { iso2: "PH", iso3: "PHL", dial: "+63", name: "Philippines" },
          { iso2: "VN", iso3: "VNM", dial: "+84", name: "Vietnam" }
        ];

        (function initCountryCodePicker() {
          const search = document.getElementById("ccSearch");
          const list = document.getElementById("ccList");
          const optionsHost = document.getElementById("ccOptions");

          const ccDial = document.getElementById("ccDial");
          const ccISO2 = document.getElementById("ccISO2");
          const ccISO3 = document.getElementById("ccISO3");

          function formatItem(c) {
            const flag = iso2ToFlag(c.iso2);
            return `${flag} ${c.dial} ${c.iso3} ‚Äî ${c.name}`;
          }

          function setSelection(c) {
            ccDial.value = c.dial;
            ccISO2.value = c.iso2;
            ccISO3.value = c.iso3;
            search.value = formatItem(c);
            closeList();
          }

          function openList() {
            list.style.display = "block";
            search.setAttribute("aria-expanded", "true");
          }

          function closeList() {
            list.style.display = "none";
            search.setAttribute("aria-expanded", "false");
          }

          function render(filtered) {
            optionsHost.innerHTML = "";
            const items = filtered.slice(0, 30);
            for (const c of items) {
              const btn = document.createElement("button");
              btn.type = "button";
              btn.className = "btn btn-secondary";
              btn.style.justifyContent = "flex-start";
              btn.style.borderRadius = "12px";
              btn.style.width = "100%";
              btn.setAttribute("role", "option");
              btn.textContent = formatItem(c);
              btn.addEventListener("click", () => setSelection(c));
              optionsHost.appendChild(btn);
            }
            if (!items.length) {
              const empty = document.createElement("div");
              empty.className = "micro";
              empty.textContent = "No matches.";
              optionsHost.appendChild(empty);
            }
          }

          function filter(q) {
            const query = normalizeSpaces(q).toUpperCase();
            if (!query) return COUNTRY_CODES;

            return COUNTRY_CODES.filter((c) => {
              const hay = `${c.name} ${c.iso2} ${c.iso3} ${c.dial}`.toUpperCase();
              return hay.includes(query);
            });
          }

          // default display
          const defaultAU = COUNTRY_CODES.find((c) => c.iso2 === "AU") || COUNTRY_CODES[0];
          render(COUNTRY_CODES);
          search.value = formatItem(defaultAU);

          search.addEventListener("focus", () => {
            render(filter(search.value));
            openList();
          });

          search.addEventListener("input", () => {
            render(filter(search.value));
            openList();
          });

          search.addEventListener("keydown", (e) => {
            if (e.key === "Escape") closeList();
          });

          document.addEventListener("click", (e) => {
            if (!list.contains(e.target) && e.target !== search) closeList();
          });
        })();

        // -----------------------------
        // Form: validated mailto composer
        // -----------------------------
        (function initLeadForm() {
          const form = document.getElementById("leadForm");
          const err = document.getElementById("formError");

          const nameEl = document.getElementById("name");
          const emailEl = document.getElementById("email");
          const phoneEl = document.getElementById("phone");
          const summaryEl = document.getElementById("summary");
          const msgEl = document.getElementById("message");

          const ccDial = document.getElementById("ccDial");
          const ccISO3 = document.getElementById("ccISO3");

          function setError(message) {
            err.textContent = message || "";
          }

          function buildMailto(to, subject, body) {
            const safeSubject = encodeURIComponent(stripControls(subject));
            // allow new lines in body; encodeURIComponent handles them
            const safeBody = encodeURIComponent(body);
            return `mailto:${encodeURIComponent(to)}?subject=${safeSubject}&body=${safeBody}`;
          }

          form.addEventListener("submit", (e) => {
            e.preventDefault();
            setError("");

            const name = normalizeSpaces(nameEl.value);
            const email = normalizeSpaces(emailEl.value);
            const phone = normalizeSpaces(phoneEl.value);
            const summary = normalizeSpaces(summaryEl.value);
            const message = safeBodyText(msgEl.value);

            // Browser-level checks
            if (!nameEl.checkValidity() || !emailEl.checkValidity()) {
              setError("Please complete required fields.");
              return;
            }

            // Custom hardening/validation
            if (!isValidName(name)) {
              setError("Name must contain letters only (plus spaces/apostrophes/hyphens), 2‚Äì60 characters.");
              return;
            }

            if (!isValidEmail(email)) {
              setError("Email must be a valid format.");
              return;
            }

            if (!isValidPhoneLocal(phone)) {
              setError("Phone must contain digits only (spaces/dashes allowed) and be 4‚Äì14 digits.");
              return;
            }

            const dial = stripControls(ccDial.value || "+61");
            const iso3 = stripControls(ccISO3.value || "AUS");
            const fullPhone = phone ? `${dial} (${iso3}) ${phone}` : "";

            const subject = summary ? `Capita enquiry ‚Äî ${summary}` : "Capita enquiry";
            const bodyLines = [
              "New enquiry via capitatech.com.au",
              "",
              `Name: ${name}`,
              `Email: ${email}`,
              `Phone: ${fullPhone || "(not provided)"}`,
              "",
              "What's on your mind:",
              message ? message : "(not provided)"
            ];
            const body = bodyLines.join("\n");

            // Open the user's mail client with a pre-filled email.
            const mailto = buildMailto("consulting@capitatech.com.au", subject, body);
            window.location.href = mailto;

            // Clear the form after composing (optional UX).
            form.reset();
          });
        })();
      </script>
    </footer>
  </body>
</html>